{
	"info": {
		"_postman_id": "wpp-bot-api-collection-v2",
		"name": "WPP Bot API - Complete Collection",
		"description": "Collection completa da API do WhatsApp Bot com Gemini AI.\n\n## üöÄ Como Usar\n\n1. **Importar no Postman**: File > Import > selecione este arquivo\n2. **Configurar Environment**: Importe o arquivo `WPP_Bot_API.postman_environment.json`\n3. **Autenticar**: Execute `Auth > Login` para obter o token JWT\n4. **Testar**: O token √© automaticamente salvo e usado nos pr√≥ximos requests\n\n## üìã Categorias\n\n- **Health**: Health check e status da API\n- **Auth**: Autentica√ß√£o completa (signup, login, MFA, sessions, email verification)\n- **Users**: Gerenciamento de usu√°rios\n- **Leads**: Gerenciamento de leads e convers√µes\n- **Conversations**: Conversas, transfer√™ncias, fechamento\n- **Messages**: Mensagens (envio, listagem, atualiza√ß√£o)\n- **Tags**: Tags e associa√ß√µes com conversas\n- **WAHA**: Sess√µes WhatsApp e opera√ß√µes WAHA\n- **Webhooks**: Recebimento de webhooks WAHA\n- **Queues**: Monitoramento de filas Redis/RQ\n- **Jobs**: Jobs ass√≠ncronos (reengajamento)\n- **AI**: Processamento Gemini AI\n- **Notifications**: Notifica√ß√µes do sistema\n- **Audit**: Logs de auditoria\n\n## üîê Autentica√ß√£o\n\nA maioria dos endpoints requer JWT token no header `Authorization: Bearer {token}`.\nO token √© obtido via `POST /api/v1/auth/token` e √© v√°lido por 15 minutos.\n- **Topics**: Gerenciamento de t√≥picos\n- **Playbooks**: Sistema de playbooks com RAG\n- **Playbook Steps**: Sequ√™ncias de mensagens\n- **Message Descriptions**: Descri√ß√µes AI com Gemini Vision",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Validar se token existe para requests autenticados",
					"if (pm.request.auth && pm.request.auth.type === 'bearer') {",
					"    const token = pm.environment.get('access_token');",
					"    if (!token) {",
					"        console.warn('‚ö†Ô∏è Token n√£o encontrado. Execute Auth > Login primeiro.');",
					"    }",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-save access token from login/refresh responses",
					"if (pm.response.code === 200 || pm.response.code === 201) {",
					"    const jsonData = pm.response.json();",
					"    if (jsonData.access_token) {",
					"        pm.environment.set('access_token', jsonData.access_token);",
					"        console.log('‚úÖ Access token salvo automaticamente');",
					"    }",
					"    if (jsonData.refresh_token) {",
					"        pm.environment.set('refresh_token', jsonData.refresh_token);",
					"        console.log('‚úÖ Refresh token salvo automaticamente');",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3333/api/v1",
			"type": "string"
		},
		{
			"key": "topic_id",
			"value": "paste-topic-uuid-here",
			"type": "string"
		},
		{
			"key": "playbook_id",
			"value": "paste-playbook-uuid-here",
			"type": "string"
		},
		{
			"key": "message_id",
			"value": "paste-message-uuid-here",
			"type": "string"
		},
		{
			"key": "step_id",
			"value": "paste-step-uuid-here",
			"type": "string"
		},
		{
			"key": "session_id",
			"value": "1",
			"type": "string"
		},
		{
			"key": "email_verification_token",
			"value": "paste-token-here",
			"type": "string"
		},
		{
			"key": "mfa_secret",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "üè• Health",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Verifica status da API, banco de dados, Redis e ChromaDB.\n\n**N√£o requer autentica√ß√£o**"
					},
					"response": []
				}
			]
		},
		{
			"name": "üîê Auth",
			"item": [
				{
					"name": "Signup",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"name\": \"Test User\",\n  \"password\": \"StrongPass123!\",\n  \"role\": \"agent\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/signup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"signup"
							]
						},
						"description": "Registrar novo usu√°rio.\n\n**Roles dispon√≠veis:**\n- `admin`: Acesso total\n- `agent`: Acesso a conversas e leads\n- `viewer`: Apenas visualiza√ß√£o"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('access_token', jsonData.access_token);",
									"    pm.environment.set('refresh_token', jsonData.refresh_token);",
									"    pm.test('‚úÖ Tokens salvos com sucesso', true);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "test@example.com",
									"type": "text"
								},
								{
									"key": "password",
									"value": "StrongPass123!",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/auth/token",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"token"
							]
						},
						"description": "Autenticar usu√°rio e obter tokens JWT.\n\n**Retorna:**\n- `access_token`: V√°lido por 15 minutos\n- `refresh_token`: V√°lido por 7 dias\n\n**Os tokens s√£o automaticamente salvos no environment.**"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"refresh"
							]
						},
						"description": "Renovar access token usando refresh token v√°lido.\n\n**Requer:** Bearer token (refresh_token)"
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"me"
							]
						},
						"description": "Obter dados do usu√°rio autenticado.\n\n**Requer:** Bearer token"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "Revogar token atual (logout).\n\n**Requer:** Bearer token"
					},
					"response": []
				},
				{
					"name": "Password Recovery",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/password-recovery",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"password-recovery"
							]
						},
						"description": "Solicitar recupera√ß√£o de senha.\n\n**N√£o requer autentica√ß√£o**"
					},
					"response": []
				},
				{
					"name": "Password Reset",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"reset-token-here\",\n  \"new_password\": \"NewStrongPass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/password-reset",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"password-reset"
							]
						},
						"description": "Resetar senha com token de recupera√ß√£o.\n\n**N√£o requer autentica√ß√£o**"
					},
					"response": []
				},
				{
					"name": "Password Change",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"old_password\": \"Admin@2025!Secure\",\n  \"new_password\": \"NewPassword@2025!Strong\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/password-change",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"password-change"
							]
						},
						"description": "Trocar senha do usu√°rio autenticado.\n\n**Requer autentica√ß√£o JWT**\n\nInvalida todas as sess√µes ap√≥s mudan√ßa."
					},
					"response": []
				},
				{
					"name": "List Sessions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/sessions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"sessions"
							]
						},
						"description": "Listar todas as sess√µes ativas do usu√°rio atual.\n\n**Requer autentica√ß√£o JWT**\n\nMostra device info, IP, √∫ltima atividade."
					},
					"response": []
				},
				{
					"name": "Revoke Session",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/sessions/{{session_id}}/revoke",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"sessions",
								"{{session_id}}",
								"revoke"
							]
						},
						"description": "Revogar uma sess√£o espec√≠fica (logout remoto de um dispositivo).\n\n**Requer autentica√ß√£o JWT**"
					},
					"response": []
				},
				{
					"name": "Revoke All Sessions",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"except_current\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/sessions/revoke-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"sessions",
								"revoke-all"
							]
						},
						"description": "Revogar todas as sess√µes (exceto a atual se except_current=true).\n\n**Requer autentica√ß√£o JWT**\n\n√ötil para logout de todos os dispositivos."
					},
					"response": []
				},
				{
					"name": "Email Verify",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/email/verify?token={{email_verification_token}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"email",
								"verify"
							],
							"query": [
								{
									"key": "token",
									"value": "{{email_verification_token}}"
								}
							]
						},
						"description": "Verificar email com token enviado por email.\n\n**N√£o requer autentica√ß√£o**\n\nToken expira em 24h."
					},
					"response": []
				},
				{
					"name": "Email Resend Verification",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/email/resend",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"email",
								"resend"
							]
						},
						"description": "Reenviar email de verifica√ß√£o.\n\n**Requer autentica√ß√£o JWT**\n\nRate limit: 3 tentativas por hora."
					},
					"response": []
				},
				{
					"name": "MFA Setup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"password\": \"Admin@2025!Secure\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/mfa/setup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"mfa",
								"setup"
							]
						},
						"description": "Iniciar configura√ß√£o de MFA.\n\n**Requer autentica√ß√£o JWT**\n\nRetorna QR code e backup codes. Salve o secret!"
					},
					"response": []
				},
				{
					"name": "MFA Verify",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/mfa/verify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"mfa",
								"verify"
							]
						},
						"description": "Verificar c√≥digo TOTP e ativar MFA permanentemente.\n\n**Requer autentica√ß√£o JWT**\n\nC√≥digo do Google Authenticator."
					},
					"response": []
				},
				{
					"name": "MFA Disable",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"password\": \"Admin@2025!Secure\",\n  \"code\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/mfa/disable",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"mfa",
								"disable"
							]
						},
						"description": "Desabilitar MFA.\n\n**Requer autentica√ß√£o JWT + senha + c√≥digo TOTP**"
					},
					"response": []
				},
				{
					"name": "MFA Login",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@clinicago.com.br\",\n  \"code\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/mfa/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"mfa",
								"login"
							]
						},
						"description": "Completar login com c√≥digo MFA.\n\n**N√£o requer autentica√ß√£o**\n\nUsar ap√≥s login b√°sico quando MFA est√° ativo."
					},
					"response": []
				}
			]
		},
		{
			"name": "üë• Users",
			"item": [
				{
					"name": "List Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users?skip=0&limit=50",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							],
							"query": [
								{
									"key": "skip",
									"value": "0"
								},
								{
									"key": "limit",
									"value": "50"
								}
							]
						},
						"description": "Listar usu√°rios com pagina√ß√£o.\n\n**Requer:** Bearer token"
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/:user_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								":user_id"
							],
							"variable": [
								{
									"key": "user_id",
									"value": "1"
								}
							]
						},
						"description": "Obter detalhes de um usu√°rio espec√≠fico.\n\n**Requer:** Bearer token"
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Name\",\n  \"role\": \"admin\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/:user_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								":user_id"
							],
							"variable": [
								{
									"key": "user_id",
									"value": "1"
								}
							]
						},
						"description": "Atualizar dados de um usu√°rio.\n\n**Requer:** Bearer token (admin)"
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/:user_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								":user_id"
							],
							"variable": [
								{
									"key": "user_id",
									"value": "1"
								}
							]
						},
						"description": "Deletar um usu√°rio.\n\n**Requer:** Bearer token (admin)"
					},
					"response": []
				}
			]
		},
		{
			"name": "üéØ Leads",
			"item": [
				{
					"name": "List Leads",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/leads?skip=0&limit=50&stage=qualified&status=active",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads"
							],
							"query": [
								{
									"key": "skip",
									"value": "0"
								},
								{
									"key": "limit",
									"value": "50"
								},
								{
									"key": "stage",
									"value": "qualified",
									"description": "new, contacted, qualified, proposal, negotiation"
								},
								{
									"key": "status",
									"value": "active",
									"description": "active, converted, lost"
								}
							]
						},
						"description": "Listar leads com filtros e pagina√ß√£o.\n\n**Filtros:**\n- `stage`: new, contacted, qualified, proposal, negotiation\n- `status`: active, converted, lost\n- `min_score / max_score`: 0-100"
					},
					"response": []
				},
				{
					"name": "Get Lead by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/leads/:lead_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Obter detalhes de um lead espec√≠fico."
					},
					"response": []
				},
				{
					"name": "Create Lead",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phone\": \"5511999999999\",\n  \"name\": \"Jo√£o Silva\",\n  \"email\": \"joao@example.com\",\n  \"source\": \"whatsapp\",\n  \"stage\": \"new\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/leads",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads"
							]
						},
						"description": "Criar novo lead manualmente.\n\n**Campos obrigat√≥rios:**\n- `phone`: Telefone com DDD (ex: 5511999999999)\n- `name`: Nome do lead\n\n**Stages:** new, contacted, qualified, proposal, negotiation"
					},
					"response": []
				},
				{
					"name": "Update Lead Maturity",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"maturity_score\": 85,\n  \"stage\": \"qualified\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/leads/:lead_id/maturity",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id",
								"maturity"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Atualizar score de maturidade do lead (0-100)."
					},
					"response": []
				},
				{
					"name": "Assign Lead to Agent",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"agent_id\": 2\n}"
						},
						"url": {
							"raw": "{{base_url}}/leads/:lead_id/assign",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id",
								"assign"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Atribuir lead a um agente espec√≠fico."
					},
					"response": []
				},
				{
					"name": "Auto-Assign Lead",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/leads/:lead_id/auto-assign",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id",
								"auto-assign"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Auto-atribuir lead baseado em regras (round-robin)."
					},
					"response": []
				},
				{
					"name": "Convert Lead",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"notes\": \"Cliente fechou pacote premium\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/leads/:lead_id/convert",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id",
								"convert"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Marcar lead como convertido (cliente)."
					},
					"response": []
				},
				{
					"name": "Mark Lead as Lost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Pre√ßo alto\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/leads/:lead_id/mark-lost",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id",
								"mark-lost"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Marcar lead como perdido com motivo."
					},
					"response": []
				},
				{
					"name": "Delete Lead (Soft)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/leads/:lead_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Soft delete de um lead (marca deleted_at)."
					},
					"response": []
				},
				{
					"name": "Restore Lead",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/leads/:lead_id/restore",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"leads",
								":lead_id",
								"restore"
							],
							"variable": [
								{
									"key": "lead_id",
									"value": "1"
								}
							]
						},
						"description": "Restaurar lead soft-deleted."
					},
					"response": []
				}
			]
		},
		{
			"name": "üí¨ Conversations",
			"item": [
				{
					"name": "List Conversations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/conversations?skip=0&limit=50&status=active&is_urgent=false",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations"
							],
							"query": [
								{
									"key": "skip",
									"value": "0"
								},
								{
									"key": "limit",
									"value": "50"
								},
								{
									"key": "status",
									"value": "active",
									"description": "active, closed, transferred"
								},
								{
									"key": "is_urgent",
									"value": "false"
								}
							]
						},
						"description": "Listar conversas com filtros."
					},
					"response": []
				},
				{
					"name": "Search Conversations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/conversations/search?query=agendamento",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								"search"
							],
							"query": [
								{
									"key": "query",
									"value": "agendamento"
								}
							]
						},
						"description": "Buscar conversas por texto."
					},
					"response": []
				},
				{
					"name": "Get Conversation by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Obter detalhes de uma conversa."
					},
					"response": []
				},
				{
					"name": "Update Conversation Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"closed\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"status"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Atualizar status da conversa."
					},
					"response": []
				},
				{
					"name": "Transfer Conversation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"target_agent_id\": 3,\n  \"reason\": \"Especialista em ortodontia\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/transfer",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"transfer"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Transferir conversa para outro agente."
					},
					"response": []
				},
				{
					"name": "Close Conversation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Resolvido\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/close",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"close"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Fechar uma conversa."
					},
					"response": []
				},
				{
					"name": "Update Conversation Notes",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"notes\": \"Cliente muito interessado em implantes\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/notes",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"notes"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Atualizar notas da conversa."
					},
					"response": []
				},
				{
					"name": "Export Conversations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/conversations/export?format=csv&start_date=2025-01-01",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								"export"
							],
							"query": [
								{
									"key": "format",
									"value": "csv",
									"description": "csv or json"
								},
								{
									"key": "start_date",
									"value": "2025-01-01"
								}
							]
						},
						"description": "Exportar conversas (CSV ou JSON)."
					},
					"response": []
				}
			]
		},
		{
			"name": "üì® Messages",
			"item": [
				{
					"name": "Create Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"conversation_id\": 1,\n  \"sender_type\": \"bot\",\n  \"content\": \"Ol√°! Como posso ajudar?\",\n  \"direction\": \"outbound\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/messages",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages"
							]
						},
						"description": "Criar mensagem manualmente.\n\n**sender_type:** user, bot, agent\n**direction:** inbound, outbound"
					},
					"response": []
				},
				{
					"name": "List Messages by Conversation",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/conversation/:conversation_id?skip=0&limit=100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								"conversation",
								":conversation_id"
							],
							"query": [
								{
									"key": "skip",
									"value": "0"
								},
								{
									"key": "limit",
									"value": "100"
								}
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Listar mensagens de uma conversa."
					},
					"response": []
				},
				{
					"name": "Get Message by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/:message_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								":message_id"
							],
							"variable": [
								{
									"key": "message_id",
									"value": "1"
								}
							]
						},
						"description": "Obter detalhes de uma mensagem."
					},
					"response": []
				},
				{
					"name": "Update Message",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"read\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/messages/:message_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								":message_id"
							],
							"variable": [
								{
									"key": "message_id",
									"value": "1"
								}
							]
						},
						"description": "Atualizar mensagem (ex: marcar como lida)."
					},
					"response": []
				},
				{
					"name": "Delete Message",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/:message_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								":message_id"
							],
							"variable": [
								{
									"key": "message_id",
									"value": "1"
								}
							]
						},
						"description": "Deletar uma mensagem."
					},
					"response": []
				}
			]
		},
		{
			"name": "üè∑Ô∏è Tags",
			"item": [
				{
					"name": "Create Tag",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Urgente\",\n  \"color\": \"#FF0000\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/tags",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tags"
							]
						},
						"description": "Criar nova tag."
					},
					"response": []
				},
				{
					"name": "List Tags",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tags",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tags"
							]
						},
						"description": "Listar todas as tags."
					},
					"response": []
				},
				{
					"name": "Delete Tag",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tags/:tag_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tags",
								":tag_id"
							],
							"variable": [
								{
									"key": "tag_id",
									"value": "1"
								}
							]
						},
						"description": "Deletar uma tag."
					},
					"response": []
				},
				{
					"name": "Add Tag to Conversation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tag_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/tags",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"tags"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Adicionar tag a uma conversa."
					},
					"response": []
				},
				{
					"name": "Remove Tag from Conversation",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/tags/:tag_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"tags",
								":tag_id"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								},
								{
									"key": "tag_id",
									"value": "1"
								}
							]
						},
						"description": "Remover tag de uma conversa."
					},
					"response": []
				},
				{
					"name": "Get Conversation Tags",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/conversations/:conversation_id/tags",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"conversations",
								":conversation_id",
								"tags"
							],
							"variable": [
								{
									"key": "conversation_id",
									"value": "1"
								}
							]
						},
						"description": "Listar tags de uma conversa."
					},
					"response": []
				}
			]
		},
		{
			"name": "üì± WAHA",
			"item": [
				{
					"name": "Sessions",
					"item": [
						{
							"name": "Create Session",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"default\",\n  \"webhook_url\": \"http://localhost:3333/api/v1/webhooks/waha\",\n  \"webhook_events\": [\"message\", \"message.ack\", \"session.status\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/sessions",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions"
									]
								},
								"description": "**Admin only** - Cria nova sess√£o WhatsApp no WAHA.\n\n- Nome √∫nico para identificar a sess√£o\n- Webhook URL para receber eventos\n- Lista de eventos a serem enviados"
							},
							"response": []
						},
						{
							"name": "Start Session",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/sessions/:name/start",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions",
										":name",
										"start"
									],
									"variable": [
										{
											"key": "name",
											"value": "default"
										}
									]
								},
								"description": "**Admin only** - Inicia sess√£o e gera QR code para pareamento.\n\nRetorna status da sess√£o e QR code (se dispon√≠vel)."
							},
							"response": []
						},
						{
							"name": "Stop Session",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/sessions/:name/stop",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions",
										":name",
										"stop"
									],
									"variable": [
										{
											"key": "name",
											"value": "default"
										}
									]
								},
								"description": "**Admin only** - Para sess√£o WhatsApp.\n\nDesconecta a sess√£o mas mant√©m configura√ß√µes."
							},
							"response": []
						},
						{
							"name": "Restart Session",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/sessions/:name/restart",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions",
										":name",
										"restart"
									],
									"variable": [
										{
											"key": "name",
											"value": "default"
										}
									]
								},
								"description": "**Admin only** - Reinicia sess√£o (stop + start).\n\n√ötil para resolver problemas de conex√£o."
							},
							"response": []
						},
						{
							"name": "Get Session Status",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/sessions/:name/status",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions",
										":name",
										"status"
									],
									"variable": [
										{
											"key": "name",
											"value": "default"
										}
									]
								},
								"description": "Retorna status atual da sess√£o.\n\nStatus poss√≠veis:\n- STOPPED\n- STARTING\n- SCAN_QR_CODE\n- WORKING\n- FAILED"
							},
							"response": []
						},
						{
							"name": "Get QR Code",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/sessions/:name/qr",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions",
										":name",
										"qr"
									],
									"variable": [
										{
											"key": "name",
											"value": "default"
										}
									]
								},
								"description": "Retorna QR code em base64 para pareamento.\n\nDispon√≠vel apenas quando status = SCAN_QR_CODE."
							},
							"response": []
						},
						{
							"name": "Logout Session",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/sessions/:name/logout",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"sessions",
										":name",
										"logout"
									],
									"variable": [
										{
											"key": "name",
											"value": "default"
										}
									]
								},
								"description": "**Admin only** - Faz logout da sess√£o (desvincula dispositivo).\n\nRemove completamente o pareamento do WhatsApp."
							},
							"response": []
						}
					]
				},
				{
					"name": "Messages",
					"item": [
						{
							"name": "Send Text Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"session\": \"default\",\n  \"chat_id\": \"5511999999999@c.us\",\n  \"text\": \"Ol√°! Como posso ajudar?\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-text",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-text"
									]
								},
								"description": "Envia mensagem de texto.\n\n**Rate limited** - Aplica delays anti-ban por chat_id."
							},
							"response": []
						},
						{
							"name": "Send Image Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"session\": \"default\",\n  \"chat_id\": \"5511999999999@c.us\",\n  \"file_url\": \"https://example.com/image.jpg\",\n  \"caption\": \"Confira esta imagem!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-image",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-image"
									]
								},
								"description": "Envia imagem com caption opcional.\n\nSuporta file_url ou file_data (base64)."
							},
							"response": []
						},
						{
							"name": "Send File Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"session\": \"default\",\n  \"chat_id\": \"5511999999999@c.us\",\n  \"file_url\": \"https://example.com/document.pdf\",\n  \"filename\": \"catalogo.pdf\",\n  \"caption\": \"Segue o cat√°logo solicitado\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-file",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-file"
									]
								},
								"description": "Envia arquivo/documento.\n\nSuporta PDF, DOC, XLS, ZIP, etc."
							},
							"response": []
						},
						{
							"name": "Send Location Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"session\": \"default\",\n  \"chat_id\": \"5511999999999@c.us\",\n  \"latitude\": -23.5505,\n  \"longitude\": -46.6333,\n  \"name\": \"S√£o Paulo\",\n  \"address\": \"Centro de S√£o Paulo, SP\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-location",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-location"
									]
								},
								"description": "Envia localiza√ß√£o GPS.\n\nRequer latitude e longitude obrigat√≥rios."
							},
							"response": []
						},
						{
							"name": "Send Voice Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"file_url\": \"https://example.com/audio.ogg\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-voice",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-voice"
									]
								},
								"description": "Envia mensagem de √°udio/voz.\n\nFormato recomendado: OGG/Opus."
							},
							"response": []
						},
						{
							"name": "Send Video Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"file_url\": \"https://example.com/video.mp4\",\n  \"caption\": \"Veja este v√≠deo!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-video",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-video"
									]
								},
								"description": "Envia v√≠deo com caption opcional.\n\nFormato recomendado: MP4."
							},
							"response": []
						},
						{
							"name": "Mark Message as Seen",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/waha/messages/send-seen?chat_id=5511999999999@c.us&message_id=true_5511999999999@c.us_AAA",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-seen"
									],
									"query": [
										{
											"key": "chat_id",
											"value": "5511999999999@c.us"
										},
										{
											"key": "message_id",
											"value": "true_5511999999999@c.us_AAA"
										}
									]
								},
								"description": "Marca mensagem como lida (read receipt).\n\nEnvia confirma√ß√£o de leitura ao remetente."
							},
							"response": []
						},
						{
							"name": "Send Buttons",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"body\": \"Escolha uma op√ß√£o:\",\n  \"buttons\": [\n    {\"id\": \"1\", \"text\": \"Op√ß√£o 1\"},\n    {\"id\": \"2\", \"text\": \"Op√ß√£o 2\"},\n    {\"id\": \"3\", \"text\": \"Op√ß√£o 3\"}\n  ],\n  \"footer\": \"Escolha com sabedoria\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-buttons",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-buttons"
									]
								},
								"description": "Envia mensagem com bot√µes interativos.\n\nM√°ximo 3 bot√µes."
							},
							"response": []
						},
						{
							"name": "Send List",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"body\": \"Escolha um produto:\",\n  \"title\": \"Nossos Produtos\",\n  \"button_text\": \"Ver Lista\",\n  \"sections\": [\n    {\n      \"title\": \"Categoria 1\",\n      \"rows\": [\n        {\"id\": \"1\", \"title\": \"Produto A\", \"description\": \"Descri√ß√£o A\"},\n        {\"id\": \"2\", \"title\": \"Produto B\", \"description\": \"Descri√ß√£o B\"}\n      ]\n    }\n  ],\n  \"footer\": \"Temos mais op√ß√µes\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-list",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-list"
									]
								},
								"description": "Envia menu com lista de op√ß√µes.\n\nIdeal para cat√°logos e menus."
							},
							"response": []
						},
						{
							"name": "Send Poll",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"title\": \"Enquete\",\n  \"body\": \"Qual sua prefer√™ncia?\",\n  \"options\": [\"Op√ß√£o 1\", \"Op√ß√£o 2\", \"Op√ß√£o 3\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-poll",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-poll"
									]
								},
								"description": "Envia enquete/vota√ß√£o.\n\nPermite criar pesquisas interativas."
							},
							"response": []
						},
						{
							"name": "Send Contact",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"contact_name\": \"Jo√£o Silva\",\n  \"phone_number\": \"+5511988887777\",\n  \"organization\": \"Empresa XYZ\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/send-contact",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"send-contact"
									]
								},
								"description": "Envia contato (vCard).\n\nCompartilha informa√ß√µes de contato."
							},
							"response": []
						},
						{
							"name": "Forward Message",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"chat_id\": \"5511888888888@c.us\",\n  \"message_id\": \"true_5511999999999@c.us_AAA\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/messages/forward",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"messages",
										"forward"
									]
								},
								"description": "Encaminha mensagem para outro chat.\n\nMant√©m formata√ß√£o original."
							},
							"response": []
						},
						{
							"name": "Edit Message",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"text\": \"Mensagem editada\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/waha/chats/:chat_id/messages/:message_id",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"waha",
										"chats",
										":chat_id",
										"messages",
										":message_id"
									],
									"variable": [
										{
											"key": "chat_id",
											"value": "5511999999999@c.us"
										},
										{
											"key": "message_id",
											"value": "true_5511999999999@c.us_AAA"
										}
									]
								},
								"description": "Edita mensagem de texto enviada.\n\n**Importante:** IDs devem ser URL encoded."
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "üîó Webhooks",
			"item": [
				{
					"name": "Receive WAHA Webhook",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"event\": \"message\",\n  \"session\": \"default\",\n  \"payload\": {\n    \"id\": \"true_5511999999999@c.us_AAA\",\n    \"timestamp\": 1234567890,\n    \"from\": \"5511999999999@c.us\",\n    \"body\": \"Ol√°, preciso de ajuda\",\n    \"hasMedia\": false,\n    \"ack\": 1\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/webhooks/waha",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"webhooks",
								"waha"
							]
						},
						"description": "**NO AUTH** - Recebe webhooks do WAHA.\n\nEventos suportados:\n- `message` - Mensagem recebida\n- `message.ack` - Confirma√ß√£o de entrega\n- `session.status` - Mudan√ßa de status da sess√£o\n\n‚ö†Ô∏è Endpoint sem autentica√ß√£o - proteja com firewall/VPN em produ√ß√£o."
					},
					"response": []
				},
				{
					"name": "Get Webhook Logs",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/webhooks/waha/logs?limit=100&event_type=message",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"webhooks",
								"waha",
								"logs"
							],
							"query": [
								{
									"key": "limit",
									"value": "100"
								},
								{
									"key": "event_type",
									"value": "message",
									"description": "Filtrar por tipo de evento (opcional)"
								}
							]
						},
						"description": "**NO AUTH** - Lista logs de webhooks n√£o processados.\n\n√ötil para debugging e reprocessamento manual.\n\n‚ö†Ô∏è Remova este endpoint em produ√ß√£o ou adicione autentica√ß√£o."
					},
					"response": []
				}
			]
		},
		{
			"name": "üîÑ Queues",
			"item": [
				{
					"name": "Get Queue Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"stats"
							]
						},
						"description": "Retorna estat√≠sticas das filas Redis/RQ.\n\n- Total de jobs por status\n- Jobs aguardando processamento\n- Jobs em execu√ß√£o\n- Jobs falhados\n- Jobs conclu√≠dos"
					},
					"response": []
				},
				{
					"name": "Get Queue Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"health"
							]
						},
						"description": "Verifica sa√∫de das filas.\n\nRetorna:\n- Status da conex√£o Redis\n- N√∫mero de workers ativos\n- Lat√™ncia da fila"
					},
					"response": []
				},
				{
					"name": "Get Job Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/jobs/:job_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"jobs",
								":job_id"
							],
							"variable": [
								{
									"key": "job_id",
									"value": "abc123"
								}
							]
						},
						"description": "Retorna detalhes de um job espec√≠fico.\n\nInclui:\n- Status atual\n- Resultado ou erro\n- Timestamps\n- Argumentos originais"
					},
					"response": []
				},
				{
					"name": "Get Failed Jobs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/failed?limit=50",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"failed"
							],
							"query": [
								{
									"key": "limit",
									"value": "50"
								}
							]
						},
						"description": "Lista jobs que falharam.\n\n√ötil para debugging e reprocessamento."
					},
					"response": []
				},
				{
					"name": "Retry Job",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/jobs/:job_id/retry",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"jobs",
								":job_id",
								"retry"
							],
							"variable": [
								{
									"key": "job_id",
									"value": "abc123"
								}
							]
						},
						"description": "Reprocessa um job falhado.\n\nRecoloca o job na fila para nova tentativa."
					},
					"response": []
				},
				{
					"name": "Cancel Job",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/jobs/:job_id/cancel",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"jobs",
								":job_id",
								"cancel"
							],
							"variable": [
								{
									"key": "job_id",
									"value": "abc123"
								}
							]
						},
						"description": "Cancela um job pendente ou em execu√ß√£o.\n\nN√£o pode ser desfeito."
					},
					"response": []
				},
				{
					"name": "Retry All Failed Jobs",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/retry-failed",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"retry-failed"
							]
						},
						"description": "Reprocessa todos os jobs falhados.\n\n‚ö†Ô∏è Use com cuidado - pode gerar muita carga."
					},
					"response": []
				},
				{
					"name": "Clear Failed Jobs",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/queue/clear-failed",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"queue",
								"clear-failed"
							]
						},
						"description": "Remove todos os jobs falhados da fila.\n\n‚ö†Ô∏è A√ß√£o irrevers√≠vel!"
					},
					"response": []
				}
			]
		},
		{
			"name": "‚öôÔ∏è Jobs",
			"item": [
				{
					"name": "Trigger Reengagement Job",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/jobs/reengagement",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"jobs",
								"reengagement"
							]
						},
						"description": "**Admin only** - Dispara job de reengajamento manual.\n\nO job:\n- Busca conversas inativas (>48h sem mensagens)\n- Envia mensagens autom√°ticas de reengajamento\n- Atualiza status para AWAITING_RESPONSE\n\nNormalmente executado via cron, mas pode ser disparado manualmente."
					},
					"response": []
				}
			]
		},
		{
			"name": "ü§ñ AI",
			"item": [
				{
					"name": "Process Message with Gemini",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"chat_id\": \"5511999999999@c.us\",\n  \"phone_number\": \"5511999999999\",\n  \"message_text\": \"Ol√°, preciso de informa√ß√µes sobre seus produtos\",\n  \"session_name\": \"default\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/ai/process-message",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"ai",
								"process-message"
							]
						},
						"description": "Processa mensagem e gera resposta com Gemini AI.\n\nFluxo completo:\n1. Busca/cria conversa\n2. Salva mensagem inbound\n3. Busca contexto no ChromaDB\n4. Detecta inten√ß√£o\n5. Gera resposta com Gemini\n6. Atualiza score de maturidade\n7. Envia resposta via WAHA\n8. Salva tudo no banco"
					},
					"response": []
				},
				{
					"name": "Get AI Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/ai/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"ai",
								"stats"
							]
						},
						"description": "Retorna estat√≠sticas de uso da IA.\n\n- Total de conversas\n- Total de intera√ß√µes LLM\n- Tokens consumidos\n- Lat√™ncia m√©dia\n- Documentos no ChromaDB"
					},
					"response": []
				}
			]
		},
		{
			"name": "üîî Notifications",
			"item": [
				{
					"name": "List Notifications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications?unread_only=false&limit=50",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"notifications"
							],
							"query": [
								{
									"key": "unread_only",
									"value": "false",
									"description": "Retornar apenas n√£o lidas"
								},
								{
									"key": "limit",
									"value": "50",
									"description": "M√°ximo 100"
								}
							]
						},
						"description": "Lista notifica√ß√µes do usu√°rio autenticado.\n\nFiltros:\n- unread_only: apenas n√£o lidas\n- limit: m√°ximo de resultados (padr√£o 50, max 100)"
					},
					"response": []
				},
				{
					"name": "Count Unread Notifications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/unread-count",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"notifications",
								"unread-count"
							]
						},
						"description": "Retorna contador de notifica√ß√µes n√£o lidas.\n\n√ötil para badges de notifica√ß√£o na UI."
					},
					"response": []
				},
				{
					"name": "Mark Notification as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/:notification_id/read",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"notifications",
								":notification_id",
								"read"
							],
							"variable": [
								{
									"key": "notification_id",
									"value": "550e8400-e29b-41d4-a716-446655440000"
								}
							]
						},
						"description": "Marca notifica√ß√£o como lida.\n\nRetorna a notifica√ß√£o atualizada."
					},
					"response": []
				}
			]
		},
		{
			"name": "üìã Audit",
			"item": [
				{
					"name": "List Audit Logs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/audit-logs?entity_type=Lead&limit=100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"audit-logs"
							],
							"query": [
								{
									"key": "entity_type",
									"value": "Lead",
									"description": "Filtrar por tipo de entidade (opcional)"
								},
								{
									"key": "entity_id",
									"value": "",
									"description": "Filtrar por ID espec√≠fico (opcional)",
									"disabled": true
								},
								{
									"key": "user_id",
									"value": "",
									"description": "Filtrar por usu√°rio (opcional)",
									"disabled": true
								},
								{
									"key": "limit",
									"value": "100",
									"description": "Limite de resultados (1-1000)"
								}
							]
						},
						"description": "**Admin only** - Lista logs de auditoria.\n\nFiltros dispon√≠veis:\n- entity_type: Lead, Conversation, etc.\n- entity_id: ID espec√≠fico da entidade\n- user_id: usu√°rio que realizou a√ß√µes\n- limit: n√∫mero de resultados (1-1000)"
					},
					"response": []
				},
				{
					"name": "Get Entity Audit Trail",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/audit-logs/entity/:entity_type/:entity_id?limit=50",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"audit-logs",
								"entity",
								":entity_type",
								":entity_id"
							],
							"query": [
								{
									"key": "limit",
									"value": "50",
									"description": "Limite de resultados (1-500)"
								}
							],
							"variable": [
								{
									"key": "entity_type",
									"value": "Lead"
								},
								{
									"key": "entity_id",
									"value": "1"
								}
							]
						},
						"description": "**Admin only** - Retorna hist√≥rico completo de a√ß√µes em uma entidade.\n\nMostra todas as mudan√ßas (cria√ß√£o, atualiza√ß√£o, dele√ß√£o) com:\n- Quem fez\n- Quando\n- O que mudou (old_value -> new_value)\n- IP de origem"
					},
					"response": []
				}
			]
		},
		{
			"name": "Topics",
			"item": [
				{
					"name": "Create Topic",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Botox\",\n  \"description\": \"Procedimento de aplica√ß√£o de toxina botul√≠nica para redu√ß√£o de rugas e linhas de express√£o\",\n  \"category\": \"procedimentos_esteticos\",\n  \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/topics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"topics"
							]
						},
						"description": "Criar novo t√≥pico (categoria gen√©rica para organizar playbooks).\n\nExemplos de t√≥picos:\n- Botox\n- Preenchimento Labial\n- Clareamento Dental\n- Agendamento de Consultas\n- D√∫vidas Frequentes"
					},
					"response": []
				},
				{
					"name": "Get Topic",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/topics/{{topic_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"topics",
								"{{topic_id}}"
							]
						},
						"description": "Buscar t√≥pico por ID."
					},
					"response": []
				},
				{
					"name": "List Topics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/topics?active_only=false&skip=0&limit=100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"topics"
							],
							"query": [
								{
									"key": "active_only",
									"value": "false",
									"description": "Filtrar apenas t√≥picos ativos"
								},
								{
									"key": "skip",
									"value": "0",
									"description": "Offset para pagina√ß√£o"
								},
								{
									"key": "limit",
									"value": "100",
									"description": "Limite de resultados"
								}
							]
						},
						"description": "Listar todos os t√≥picos com filtros opcionais."
					},
					"response": []
				},
				{
					"name": "Update Topic",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"Procedimento minimamente invasivo de toxina botul√≠nica\",\n  \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/topics/{{topic_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"topics",
								"{{topic_id}}"
							]
						},
						"description": "Atualizar campos do t√≥pico. Apenas campos fornecidos ser√£o alterados."
					},
					"response": []
				},
				{
					"name": "Delete Topic",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/topics/{{topic_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"topics",
								"{{topic_id}}"
							]
						},
						"description": "Deletar t√≥pico. CASCADE: Deleta todos os playbooks e steps associados."
					},
					"response": []
				}
			]
		},
		{
			"name": "Playbooks",
			"item": [
				{
					"name": "Create Playbook",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"topic_id\": \"{{topic_id}}\",\n  \"name\": \"Botox - Fluxo Completo de Atendimento\",\n  \"description\": \"Sequ√™ncia de mensagens para apresentar o procedimento de botox, incluindo explica√ß√£o, fotos antes/depois, valores e agendamento\",\n  \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/playbooks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbooks"
							]
						},
						"description": "Criar novo playbook.\n\n**Playbooks** s√£o sequ√™ncias organizadas de mensagens sobre um t√≥pico espec√≠fico.\n\nO playbook √© automaticamente indexado no ChromaDB para busca sem√¢ntica."
					},
					"response": []
				},
				{
					"name": "Search Playbooks (RAG)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbooks/search?query=botox procedimento valor antes depois&top_k=3&active_only=true",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbooks",
								"search"
							],
							"query": [
								{
									"key": "query",
									"value": "botox procedimento valor antes depois",
									"description": "Busca em linguagem natural"
								},
								{
									"key": "top_k",
									"value": "3",
									"description": "N√∫mero de resultados (m√°x 10)"
								},
								{
									"key": "active_only",
									"value": "true",
									"description": "Apenas playbooks ativos"
								}
							]
						},
						"description": "**Busca Sem√¢ntica com RAG** (Retrieval Augmented Generation).\n\nUsa ChromaDB + embeddings para encontrar playbooks relevantes.\n\nExemplos de queries:\n- \"botox pre√ßo procedimento\"\n- \"clareamento dental informa√ß√µes\"\n- \"preenchimento labial antes depois fotos\"\n- \"agendar consulta avalia√ß√£o\"\n\nRetorna playbooks ordenados por score de relev√¢ncia (0-1)."
					},
					"response": []
				},
				{
					"name": "Get Playbook",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbooks/{{playbook_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbooks",
								"{{playbook_id}}"
							]
						},
						"description": "Buscar playbook por ID."
					},
					"response": []
				},
				{
					"name": "List Playbooks by Topic",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbooks/topic/{{topic_id}}?active_only=false",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbooks",
								"topic",
								"{{topic_id}}"
							],
							"query": [
								{
									"key": "active_only",
									"value": "false",
									"description": "Filtrar apenas ativos"
								}
							]
						},
						"description": "Listar todos os playbooks de um t√≥pico espec√≠fico."
					},
					"response": []
				},
				{
					"name": "Update Playbook",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Botox - Fluxo Completo v2\",\n  \"description\": \"Fluxo atualizado com novos pre√ßos e fotos\",\n  \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/playbooks/{{playbook_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbooks",
								"{{playbook_id}}"
							]
						},
						"description": "Atualizar playbook.\n\n**IMPORTANTE**: Atualiza√ß√£o reindexa automaticamente no ChromaDB."
					},
					"response": []
				},
				{
					"name": "Delete Playbook",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbooks/{{playbook_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbooks",
								"{{playbook_id}}"
							]
						},
						"description": "Deletar playbook.\n\nCADERNO:\n- Deleta steps associados\n- Remove embedding do ChromaDB"
					},
					"response": []
				}
			]
		},
		{
			"name": "Playbook Steps",
			"item": [
				{
					"name": "Add Step",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"playbook_id\": \"{{playbook_id}}\",\n  \"message_id\": \"{{message_id}}\",\n  \"step_order\": null,\n  \"context_hint\": \"Primeiro, enviar explica√ß√£o sobre o que √© botox e como funciona\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/playbook-steps",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbook-steps"
							]
						},
						"description": "Adicionar step ao playbook.\n\n**step_order**: Se null, √© adicionado no final automaticamente.\n**context_hint**: Dica para o LLM sobre quando usar este step."
					},
					"response": []
				},
				{
					"name": "List Playbook Steps",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbook-steps/playbook/{{playbook_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbook-steps",
								"playbook",
								"{{playbook_id}}"
							]
						},
						"description": "Listar todos os steps de um playbook, ordenados por step_order."
					},
					"response": []
				},
				{
					"name": "List Steps with Details (for LLM)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbook-steps/playbook/{{playbook_id}}/details",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbook-steps",
								"playbook",
								"{{playbook_id}}",
								"details"
							]
						},
						"description": "Listar steps com TODOS os detalhes das mensagens.\n\n**Uso**: Endpoint otimizado para o LLM consumir.\n\nRetorna:\n- Step order e context_hint\n- Message type, title, description, tags\n- Message content (text, media URL, caption, etc.)\n\nO LLM usa isso para decidir qual mensagem enviar."
					},
					"response": []
				},
				{
					"name": "Reorder Steps",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"step_id_order\": [\n    [\"step_id_1\", 1],\n    [\"step_id_2\", 2],\n    [\"step_id_3\", 3],\n    [\"step_id_4\", 4]\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/playbook-steps/reorder",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbook-steps",
								"reorder"
							]
						},
						"description": "Reordenar m√∫ltiplos steps de uma vez.\n\nUse para reorganizar a sequ√™ncia de mensagens no playbook."
					},
					"response": []
				},
				{
					"name": "Update Step",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"step_order\": 5,\n  \"context_hint\": \"Enviar apenas se cliente perguntar especificamente sobre valores\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/playbook-steps/{{step_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbook-steps",
								"{{step_id}}"
							]
						},
						"description": "Atualizar step order ou context hint."
					},
					"response": []
				},
				{
					"name": "Delete Step",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/playbook-steps/{{step_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"playbook-steps",
								"{{step_id}}"
							]
						},
						"description": "Deletar step.\n\nAutomaticamente reindexa o playbook no ChromaDB."
					},
					"response": []
				}
			]
		},
		{
			"name": "Message Descriptions (AI)",
			"item": [
				{
					"name": "Generate AI Description",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/messages/{{message_id}}/generate-description?use_gemini_vision=true",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"messages",
								"{{message_id}}",
								"generate-description"
							],
							"query": [
								{
									"key": "use_gemini_vision",
									"value": "true",
									"description": "Usar Gemini Vision para imagens/v√≠deos"
								}
							]
						},
						"description": "**Gerar descri√ß√£o AI com Gemini Vision**.\n\nPara mensagens de:\n- **Imagem**: Analisa conte√∫do visual\n- **V√≠deo**: Analisa thumbnail/preview\n- **Texto**: Analisa conte√∫do textual\n- **Documento**: Analisa nome e tipo\n\nRetorna:\n- `generated_title`: T√≠tulo descritivo (m√°x 50 chars)\n- `generated_description`: Descri√ß√£o detalhada (100-200 palavras)\n- `suggested_tags`: Tags relevantes (comma-separated)\n\n**Uso t√≠pico**:\n1. Admin faz upload de imagem\n2. Clica \"Gerar Descri√ß√£o com AI\"\n3. Gemini Vision analisa\n4. Admin revisa e edita se necess√°rio\n5. Salva mensagem com descri√ß√£o\n\nIsso ajuda o LLM a entender o conte√∫do das mensagens nos playbooks."
					},
					"response": []
				}
			]
		}
	]
}