# ============================================================================
# EXAMPLE .env FILE - DO NOT COMMIT REAL SECRETS
# ============================================================================
# Copy this file to .env and fill in your actual values.
# Most sections use Docker Compose naming/defaults for local development.

# ============================================================================
# DATABASE
# ============================================================================
# For Docker Compose (recommended for local dev):
DATABASE_URL=postgresql://dba:dba@db:15432/BotDB
# Or for local connection:
# DATABASE_URL=postgresql://dba:dba@localhost:15432/BotDB
PYTHONPATH=src

# ============================================================================
# SECURITY & JWT
# ============================================================================
SECRET_KEY=your-production-secret-key-here-change-me
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# ============================================================================
# REDIS (Cache & Queues)
# ============================================================================
# For Docker Compose (recommended):
REDIS_URL=redis://redis:6379/0
# Or for local connection:
# REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600
REDIS_MAX_CONNECTIONS=10

# ============================================================================
# GEMINI AI
# ============================================================================
# REQUIRED: Get your API key from https://ai.google.dev/
GOOGLE_API_KEY=replace-with-your-actual-api-key
GEMINI_MODEL=gemini-1.5-flash
GEMINI_MAX_TOKENS=2048
GEMINI_TEMPERATURE=0.7

# ============================================================================
# WAHA (WhatsApp HTTP API)
# ============================================================================
# For Docker Compose (recommended):
WAHA_URL=http://waha:3000
WAHA_SESSION_NAME=default
WAHA_WEBHOOK_URL=http://api:3333/api/v1/webhooks/waha
# Or for local connection:
# WAHA_URL=http://localhost:3000
# WAHA_WEBHOOK_URL=http://localhost:3333/api/v1/webhooks/waha
#
WAHA_API_KEY=change-me
WAHA_DASHBOARD_USERNAME=change-me
WAHA_DASHBOARD_PASSWORD=change-me
WHATSAPP_SWAGGER_USERNAME=change-me
WHATSAPP_SWAGGER_PASSWORD=change-me

# Anti-ban settings (WhatsApp best practices)
WAHA_ANTI_BAN_ENABLED=true
WAHA_MIN_DELAY_SECONDS=30
WAHA_MAX_DELAY_SECONDS=60
WAHA_MESSAGES_PER_HOUR=20

# ============================================================================
# CHROMADB (Vector Persistence)
# ============================================================================
CHROMA_PERSIST_DIR=./data/chroma
CHROMA_COLLECTION_NAME=conversations

# ============================================================================
# REDIS QUEUE (RQ) - Processamento Assíncrono
# ============================================================================
# Timeouts por tipo de job (segundos)
RQ_JOB_TIMEOUT_MESSAGE=10
RQ_JOB_TIMEOUT_AI=60
RQ_JOB_TIMEOUT_ESCALATION=30
#
# Retry policy (máximo de tentativas, TTL de resultados/falhas)
RQ_MAX_RETRIES=3
RQ_DEFAULT_RESULT_TTL=500
RQ_DEFAULT_FAILURE_TTL=86400
RQ_FAILED_QUEUE_NAME=failed

# ============================================================================
# SMTP (Optional - Email Alerts)
# ============================================================================
# Uncomment and fill if you want email alert notifications
# SMTP_SENDER=no-reply@example.com
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password